<?xml version='1.0' encoding='UTF-8' ?>
<!-- Yougi is a web application conceived to manage user groups or
 * communities focused on a certain domain of knowledge, whose members are
 * constantly sharing information and participating in social and educational
 * events. Copyright (C) 2011 Hildeberto MendonÃ§a.
 *
 * This application is free software; you can redistribute it and/or modify it
 * under the terms of the GNU Lesser General Public License as published by the
 * Free Software Foundation; either version 2.1 of the License, or (at your
 * option) any later version.
 *
 * This application is distributed in the hope that it will be useful, but
 * WITHOUT ANY WARRANTY; without even the implied warranty of MERCHANTABILITY
 * or FITNESS FOR A PARTICULAR PURPOSE. See the GNU Lesser General Public
 * License for more details.
 *
 * There is a full copy of the GNU Lesser General Public License along with
 * this library. Look for the file license.txt at the root level. If you do not
 * find it, write to the Free Software Foundation, Inc., 59 Temple Place,
 * Suite 330, Boston, MA 02111-1307 USA.
 * -->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
      xmlns:h ="http://xmlns.jcp.org/jsf/html"
      xmlns:f ="http://xmlns.jcp.org/jsf/core"
      xmlns:p ="http://primefaces.org/ui">
<body>
<ui:composition template="../layout.xhtml">
    <ui:define name="content">
        <div class="page-header">
            <h1>#{bundle.job}</h1>
        </div>
        <h:form id="form">
            <div class="row">
                <div class="col-md-6">
                    <div class="form-group">
                        <label for="name">#{bundle.name}</label>
                        <h:selectOneMenu id="name" label="#{bundle.name}" value="#{jobSchedulerMBean.selectedName}" class="form-control">
                            <f:selectItem itemLabel="#{bundle.select}" itemValue=""/>
                            <f:selectItems value="#{jobSchedulerMBean.jobNames}" var="name" itemLabel="#{name}" itemValue="#{name}"/>
                        </h:selectOneMenu>
                    </div>
                </div>
                <div class="col-md-6">
                    <div class="form-group">
                        <label for="owner">#{bundle.owner}</label>
                        <h:selectOneMenu id="owner" label="#{bundle.owner}" value="#{jobSchedulerMBean.selectedOwner}" class="form-control">
                            <f:selectItem itemLabel="#{bundle.select}" itemValue=""/>
                            <f:selectItems value="#{jobSchedulerMBean.userAccounts}" var="user" itemLabel="#{user.fullName}" itemValue="#{user.id}"/>
                        </h:selectOneMenu>
                    </div>
                </div>
            </div>
            <div class="form-group">
                <label for="description">#{bundle.description}</label>
                <h:inputTextarea id="description" value="#{jobSchedulerMBean.jobScheduler.description}" styleClass="form-control"/>
            </div>
            <div class="row">
                <div class="col-md-6">
                    <div class="form-group">
                        <label for="frequencyType">#{bundle.frequencyType}</label>
                        <h:selectOneMenu id="frequencyType" label="#{bundle.frequencyType}" value="#{jobSchedulerMBean.selectedFrequency}" class="form-control">
                            <f:selectItem itemLabel="#{bundle.instant}" itemValue="INSTANT"/>
                            <f:selectItem itemLabel="#{bundle.once}" itemValue="ONCE"/>
                            <f:selectItem itemLabel="#{bundle.daily}" itemValue="DAILY"/>
                            <f:selectItem itemLabel="#{bundle.weekly}" itemValue="WEEKLY"/>
                            <f:selectItem itemLabel="#{bundle.monthly}" itemValue="MONTHLY"/>
                            <f:selectItem itemLabel="#{bundle.yearly}" itemValue="YEARLY"/>
                            <f:ajax render="startDate endDate startTime dailyFrequency weeklyFrequency monthlyFrequency yearlyFrequency"/>
                        </h:selectOneMenu>
                    </div>
                </div>
                <div class="col-md-6">
                    <h:panelGroup id="dailyFrequency">
                        <h:panelGroup id="dailyFrequency1" rendered="#{jobSchedulerMBean.selectedFrequency == 'DAILY'}">
                            <div class="row">
                                <div class="col-md-12">
                                    <h:outputLabel for="dayFrequency" value="#{bundle.frequency}"/>
                                </div>
                            </div>
                            <div class="row">
                                <div class="col-md-12">
                                    <div class="form-group">
                                        <h:outputText value="#{bundle.every}&nbsp;"/>
                                        <h:inputText id="dayFrequency" label="#{bundle.frequency}" value="#{jobSchedulerMBean.jobDailyScheduler.frequency}" size="2"/>
                                        <h:outputText value="&nbsp;#{bundle.days}&nbsp;&nbsp;&nbsp;"/>
                                        <h:selectBooleanCheckbox id="workingDay" label="#{bundle.workingDaysOnly}" value="#{jobSchedulerMBean.jobDailyScheduler.workingDay}"/>
                                        <h:outputLabel for="workingDay" value="#{bundle.workingDaysOnly}"/>
                                    </div>
                                </div>
                            </div>
                        </h:panelGroup>
                    </h:panelGroup>
                    <h:panelGroup id="weeklyFrequency">
                        <h:panelGroup id="weeklyFrequency1" rendered="#{jobSchedulerMBean.selectedFrequency == 'WEEKLY'}">
                            <div class="row">
                                <div class="col-md-12">
                                    <h:outputLabel for="weekFrequency" value="#{bundle.frequency}" escape="false"/>
                                </div>
                            </div>
                            <div class="row">
                                <div class="col-md-12">
                                    <div class="form-group">
                                        <h:outputText value="#{bundle.every}&nbsp;"/>
                                        <h:inputText id="weekFrequency" label="#{bundle.frequency}" value="#{jobSchedulerMBean.jobWeeklyScheduler.frequency}" size="2"/>
                                        <h:outputText value="&nbsp;#{bundle.weeks}"/>
                                    </div>
                                </div>
                            </div>
                        </h:panelGroup>
                    </h:panelGroup>
                    <h:panelGroup id="monthlyFrequency">
                        <h:panelGroup id="monthlyFrequency1" rendered="#{jobSchedulerMBean.selectedFrequency == 'MONTHLY'}">
                            <div class="row">
                                <div class="col-md-12">
                                    <h:outputLabel for="monthFrequency" value="#{bundle.frequency}" escape="false"/>
                                </div>
                            </div>
                            <div class="row">
                                <div class="col-md-12">
                                    <div class="form-group">
                                        <h:outputText value="#{bundle.every}&nbsp;"/>
                                        <h:inputText id="monthFrequency" label="#{bundle.frequency}" value="#{jobSchedulerMBean.jobMonthlyScheduler.frequency}" size="2"/>
                                        <h:outputText value="&nbsp;#{bundle.months}"/>
                                    </div>
                                </div>
                            </div>
                        </h:panelGroup>
                    </h:panelGroup>
                    <h:panelGroup id="yearlyFrequency">
                        <h:panelGroup id="yearlyFrequency1" rendered="#{jobSchedulerMBean.selectedFrequency == 'YEARLY'}">
                            <div class="row">
                                <div class="col-md-12">
                                    <h:outputLabel for="yearFrequency" value="#{bundle.frequency}" escape="false"/>
                                </div>
                            </div>
                            <div class="row">
                                <div class="col-md-12">
                                    <div class="form-group">
                                        <h:outputText value="#{bundle.every}&nbsp;"/>
                                        <h:inputText id="yearFrequency" label="#{bundle.frequency}" value="#{jobSchedulerMBean.jobYearlyScheduler.frequency}" size="2"/>
                                        <h:outputText value="&nbsp;#{bundle.years}"/>
                                    </div>
                                </div>
                            </div>
                        </h:panelGroup>
                    </h:panelGroup>
                </div>
            </div>
            <div class="row">
                <div class="col-md-4">
                    <div class="form-group">
                        <label for="startDate">#{bundle.startDate}</label><br/>
                        <p:calendar id="startDate" label="#{bundle.startDate}" value="#{jobSchedulerMBean.jobScheduler.startDate}" pattern="#{bundle.formatDate}" required="true" size="10"/>
                        <h:message for="startDate" errorClass="errorMessage"/>
                    </div>
                </div>
                <div class="col-md-4">
                    <div class="form-group">
                        <label for="endDate">#{bundle.endDate}</label><br/>
                        <p:calendar id="endDate" label="#{bundle.endDate}" value="#{jobSchedulerMBean.jobScheduler.endDate}" pattern="#{bundle.formatDate}" size="10"/>
                        <h:message for="endDate" errorClass="errorMessage"/>
                    </div>
                </div>
                <div class="col-md-4">
                    <div class="form-group">
                        <label for="startTime">#{bundle.startHour}</label><br/>
                        <p:calendar id="startTime" label="#{bundle.startHour}" value="#{jobSchedulerMBean.jobScheduler.startTime}" pattern="#{bundle.formatTime}" size="6" timeOnly="true" required="true"/>
                        <h:message for="endDate" errorClass="errorMessage"/>
                    </div>
                </div>
            </div>
            <div class="checkbox-inline">
                <h:selectBooleanCheckbox id="active" label="#{bundle.active}" value="#{jobSchedulerMBean.jobScheduler.active}"/>
                <label for="active">#{bundle.active}</label>
            </div>
            <br/>
            <h:inputHidden value="#{jobSchedulerMBean.jobScheduler.id}"/>

            <h:commandButton styleClass="btn btn-primary" value="#{bundle.save}" action="#{jobSchedulerMBean.save}"/>&nbsp;
            <h:button outcome="job_schedulers" value="#{bundle.back}" styleClass="btn btn-default"/>
        </h:form>
    </ui:define>
    <ui:define name="jquery"></ui:define>
</ui:composition>
</body>
</html>
